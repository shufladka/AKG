import{d as D,r as s,o as H,c as N,b as t,e as c,w as T,v as x,t as R,u as q,a as E}from"./index-BbU-uwEC.js";const F={class:"relative w-screen h-screen overflow-hidden"},O={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-[600px] bg-white bg-opacity-90 backdrop-blur-md border border-gray-300 rounded-lg shadow-lg p-4 space-y-4 z-10"},j={class:"grid grid-cols-4 gap-4"},G={class:"flex flex-col text-sm"},I={class:"flex flex-col text-sm"},J={class:"flex flex-col text-sm"},K={class:"flex flex-col text-sm"},L="rgba(191, 164, 245, 0.72)",$=D({__name:"index",setup(Q){const m=s(null),b=s(null);let i,e;const y=s(5),w=s(5),u=s(60),h=s(100),p=s(0),a=s(0);let r=0,d=0,f=1;const A=1-1/30/u.value;let C=[],v=s(!1),g=null;function B(n,l,o,k=L){i.beginPath(),i.fillStyle=k,i.moveTo(n+80*o,l),i.lineTo(n+160*o,l+70*o),i.lineTo(n+160*o,l+180*o),i.lineTo(n+80*o,l+250*o),i.lineTo(n,l+180*o),i.lineTo(n,l+70*o),i.lineTo(n+80*o,l),i.fill()}function M(){!m.value||!b.value||(i=m.value.getContext("2d"),e=b.value.getContext("2d"),p.value=m.value.width=b.value.width=window.innerWidth,a.value=m.value.height=b.value.height=window.innerHeight,e.beginPath(),e.fillStyle="rgba(255, 173, 15, 0.1)",e.moveTo(550,285),e.lineTo(625,285),e.lineTo(625,415),e.lineTo(710,415),e.lineTo(710,285),e.lineTo(785,285),e.lineTo(785,485),e.lineTo(550,485),e.lineTo(550,285),e.fill(),e.strokeStyle="rgba(0, 0, 0, 0.5)",e.lineWidth=1,e.stroke(),e.beginPath(),e.fillStyle="rgba(255, 255, 255, 1)",e.moveTo(0,0),e.lineTo(0,a.value),e.lineTo(550,a.value),e.lineTo(550,285),e.lineTo(625,285),e.lineTo(625,415),e.lineTo(710,415),e.lineTo(710,285),e.lineTo(785,285),e.lineTo(785,485),e.lineTo(550,485),e.lineTo(550,285),e.lineTo(550,a.value),e.lineTo(p.value,a.value),e.lineTo(p.value,0),e.fill())}function P(n,l){f*=A,B(n,l,f)}function W(){v.value?(v.value=!1,g!==null&&clearTimeout(g),g=null):(_(),v.value=!0,V())}function S(){return Math.random()*4-2}function V(){if(!v.value)return;let n=r,l=d;r+=S()*y.value,d+=S()*w.value;const o=(r-n)/u.value,k=(d-l)/u.value;let U=0;function z(){v.value&&(U!==u.value?(U++,n+=o,l+=k,i.clearRect(0,0,p.value,a.value),P(n,l),requestAnimationFrame(z)):(console.log(f),C.push({x:n,y:l,scale:f}),g=window.setTimeout(V,h.value)))}z()}function _(){r=700,d=300,f=1,C.length=0,C=[{x:r,y:d,scale:f}],P(r,d)}return H(()=>{M(),_()}),(n,l)=>(E(),N("div",F,[t("canvas",{ref_key:"firstCanvas",ref:m,class:"absolute top-0 left-0 w-full h-full z-0"},null,512),t("canvas",{ref_key:"secondCanvas",ref:b,class:"absolute top-0 left-0 w-full h-full z-10 pointer-events-none"},null,512),t("div",O,[l[8]||(l[8]=t("h2",{class:"text-lg font-semibold text-center"},"Параметры анимации",-1)),t("div",j,[t("label",G,[l[4]||(l[4]=c(" ΔX ")),T(t("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>y.value=o),type:"number",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[x,y.value,void 0,{number:!0}]])]),t("label",I,[l[5]||(l[5]=c(" ΔY ")),T(t("input",{"onUpdate:modelValue":l[1]||(l[1]=o=>w.value=o),type:"number",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[x,w.value,void 0,{number:!0}]])]),t("label",J,[l[6]||(l[6]=c(" Кадров анимации ")),T(t("input",{"onUpdate:modelValue":l[2]||(l[2]=o=>u.value=o),type:"number",min:"1",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[x,u.value,void 0,{number:!0}]])]),t("label",K,[l[7]||(l[7]=c(" Таймаут (мс) ")),T(t("input",{"onUpdate:modelValue":l[3]||(l[3]=o=>h.value=o),type:"number",min:"1",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[x,h.value,void 0,{number:!0}]])])]),t("button",{onClick:W,class:"w-full bg-teal-700 hover:bg-teal-800 text-white py-2 rounded shadow transition"},R(q(v)?"Остановить анимацию":"Запустить анимацию"),1)])]))}});export{$ as default};
