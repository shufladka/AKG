import{d as D,r as u,o as H,c as N,b as n,e as b,w as g,v as c,t as R,u as q,a as E}from"./index-BbU-uwEC.js";const F={class:"relative w-screen h-screen overflow-hidden"},O={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-[600px] bg-white bg-opacity-90 backdrop-blur-md border border-gray-300 rounded-lg shadow-lg p-4 space-y-4 z-10"},j={class:"grid grid-cols-4 gap-4"},G={class:"flex flex-col text-sm"},I={class:"flex flex-col text-sm"},J={class:"flex flex-col text-sm"},K={class:"flex flex-col text-sm"},L="rgba(191, 164, 245, 0.72)",$=D({__name:"index",setup(Q){const v=u(null),m=u(null);let s,t;const x=u(10),w=u(10),i=u(60),y=u(100),C=u(0),k=u(0);let a=0,r=0,d=1;const A=1-1/30/i.value;let T=[],f=u(!1),p=null;function B(o,e,l,h=L){s.beginPath(),s.fillStyle=h,s.moveTo(o+80*l,e),s.lineTo(o+160*l,e+70*l),s.lineTo(o+160*l,e+180*l),s.lineTo(o+80*l,e+250*l),s.lineTo(o,e+180*l),s.lineTo(o,e+70*l),s.lineTo(o+80*l,e),s.fill()}function M(){!v.value||!m.value||(s=v.value.getContext("2d"),t=m.value.getContext("2d"),C.value=v.value.width=m.value.width=window.innerWidth,k.value=v.value.height=m.value.height=window.innerHeight,t.beginPath(),t.fillStyle="rgba(255, 255, 255, 1)",t.moveTo(510,495),t.lineTo(880,495),t.lineTo(787,360),t.lineTo(693,495),t.lineTo(601,360),t.lineTo(787,360),t.lineTo(693,225),t.lineTo(510,495),t.fill(),t.strokeStyle="rgba(0, 0, 0, 1)",t.lineWidth=1,t.stroke())}function V(o,e){d*=A,B(o,e,d)}function W(){f.value?(f.value=!1,p!==null&&clearTimeout(p),p=null):(_(),f.value=!0,S())}function P(){return Math.random()*4-2}function S(){if(!f.value)return;let o=a,e=r;a+=P()*x.value,r+=P()*w.value;const l=(a-o)/i.value,h=(r-e)/i.value;let U=0;function z(){f.value&&(U!==i.value?(U++,o+=l,e+=h,s.clearRect(0,0,C.value,k.value),V(o,e),requestAnimationFrame(z)):(console.log(d),T.push({x:o,y:e,scale:d}),p=window.setTimeout(S,y.value)))}z()}function _(){a=700,r=300,d=1,T.length=0,T=[{x:a,y:r,scale:d}],V(a,r)}return H(()=>{M(),_()}),(o,e)=>(E(),N("div",F,[n("canvas",{ref_key:"firstCanvas",ref:v,class:"absolute top-0 left-0 w-full h-full z-0"},null,512),n("canvas",{ref_key:"secondCanvas",ref:m,class:"absolute top-0 left-0 w-full h-full z-10 pointer-events-none"},null,512),n("div",O,[e[8]||(e[8]=n("h2",{class:"text-lg font-semibold text-center"},"Параметры анимации",-1)),n("div",j,[n("label",G,[e[4]||(e[4]=b(" ΔX ")),g(n("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>x.value=l),type:"number",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[c,x.value,void 0,{number:!0}]])]),n("label",I,[e[5]||(e[5]=b(" ΔY ")),g(n("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>w.value=l),type:"number",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[c,w.value,void 0,{number:!0}]])]),n("label",J,[e[6]||(e[6]=b(" Кадров анимации ")),g(n("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>i.value=l),type:"number",min:"1",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[c,i.value,void 0,{number:!0}]])]),n("label",K,[e[7]||(e[7]=b(" Таймаут (мс) ")),g(n("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>y.value=l),type:"number",min:"1",class:"border px-2 py-1 rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[c,y.value,void 0,{number:!0}]])])]),n("button",{onClick:W,class:"w-full bg-teal-700 hover:bg-teal-800 text-white py-2 rounded shadow transition"},R(q(f)?"Остановить анимацию":"Запустить анимацию"),1)])]))}});export{$ as default};
